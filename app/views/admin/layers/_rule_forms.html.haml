%table.table.table-striped.table-bordered.table-condensed
  %thead
    %tr
      %th{colspan:3}
      %th{colspan:1, style: 'text-align: center;'} Legend
      %th{colspan:4, style: 'text-align: center;'} Point
      %th{colspan:3, style: 'text-align: center;'} Stroke
      %th{colspan:2, style: 'text-align: center;'} Fill
      %th
    %tr
      %th Field
      %th Handler
      %th Values
      %th Label
      %th Shape
      %th External Graphic
      %th Rotation
      %th Size
      %th Color
      %th Width
      %th Opacity
      %th Color
      %th Opacity
      %th Z-Index
  %tbody
    - rules.each_with_index do |rule, index|
      = f.fields_for :rules, rule, :index => index do |r|
        = render 'rule_fields', f: r, rule: rule            
    - rule = Rule.new; rule.style = rule.build_style
    = f.fields_for :rules, rule, :index => rules.count do |r|
      = render 'rule_fields', f: r, rule: rule            
  